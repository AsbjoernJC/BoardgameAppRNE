{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport * as React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { withNavigation } from '@react-navigation/core';\nexport default function createNavigationAwareScrollable(Component) {\n  var _class, _temp;\n  var ComponentWithNavigationScrolling = withNavigation((_temp = _class = function (_React$PureComponent) {\n    _inherits(_class, _React$PureComponent);\n    var _super = _createSuper(_class);\n    function _class() {\n      _classCallCheck(this, _class);\n      return _super.apply(this, arguments);\n    }\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this = this;\n        this._subscription = this.props.navigation.addListener('refocus', function () {\n          var scrollableNode = _this.getNode();\n          if (_this.props.navigation.isFocused() && scrollableNode !== null) {\n            if (scrollableNode.scrollToTop != null) {\n              scrollableNode.scrollToTop();\n            } else if (scrollableNode.scrollTo != null) {\n              scrollableNode.scrollTo({\n                y: 0\n              });\n            } else if (scrollableNode.scrollResponderScrollTo != null) {\n              scrollableNode.scrollResponderScrollTo({\n                y: 0\n              });\n            }\n          }\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this._subscription != null) {\n          this._subscription.remove();\n        }\n      }\n    }, {\n      key: \"getNode\",\n      value: function getNode() {\n        if (this._scrollRef === null) {\n          return null;\n        }\n        if (this._scrollRef.getScrollResponder) {\n          return this._scrollRef.getScrollResponder();\n        } else if (this._scrollRef.getNode) {\n          return this._scrollRef.getNode();\n        } else {\n          return this._scrollRef;\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        return React.createElement(Component, _extends({\n          ref: function ref(view) {\n            _this2._scrollRef = view;\n          }\n        }, this.props));\n      }\n    }]);\n    return _class;\n  }(React.PureComponent), _defineProperty(_class, \"displayName\", \"withNavigationScrolling(\".concat(Component.displayName || Component.name, \")\")), _temp));\n  var NavigationAwareScrollable = function (_React$PureComponent2) {\n    _inherits(NavigationAwareScrollable, _React$PureComponent2);\n    var _super2 = _createSuper(NavigationAwareScrollable);\n    function NavigationAwareScrollable() {\n      var _this3;\n      _classCallCheck(this, NavigationAwareScrollable);\n      for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n        _args[_key] = arguments[_key];\n      }\n      _this3 = _super2.call.apply(_super2, [this].concat(_args));\n      _defineProperty(_assertThisInitialized(_this3), \"_captureRef\", function (view) {\n        _this3._innerRef = view;\n        _this3.props.onRef && _this3.props.onRef(view);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"setNativeProps\", function () {\n        var _this3$_innerRef$getN;\n        return (_this3$_innerRef$getN = _this3._innerRef.getNode()).setNativeProps.apply(_this3$_innerRef$getN, arguments);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"getScrollResponder\", function () {\n        var _this3$_innerRef$getN2;\n        return (_this3$_innerRef$getN2 = _this3._innerRef.getNode()).getScrollResponder.apply(_this3$_innerRef$getN2, arguments);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"getScrollableNode\", function () {\n        var _this3$_innerRef$getN3;\n        return (_this3$_innerRef$getN3 = _this3._innerRef.getNode()).getScrollableNode.apply(_this3$_innerRef$getN3, arguments);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"getInnerViewNode\", function () {\n        var _this3$_innerRef$getN4;\n        return (_this3$_innerRef$getN4 = _this3._innerRef.getNode()).getInnerViewNode.apply(_this3$_innerRef$getN4, arguments);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"scrollTo\", function () {\n        var _this3$_innerRef$getN5;\n        return (_this3$_innerRef$getN5 = _this3._innerRef.getNode()).scrollTo.apply(_this3$_innerRef$getN5, arguments);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"scrollToEnd\", function () {\n        var _this3$_innerRef$getN6;\n        return (_this3$_innerRef$getN6 = _this3._innerRef.getNode()).scrollToEnd.apply(_this3$_innerRef$getN6, arguments);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"scrollWithoutAnimationTo\", function () {\n        var _this3$_innerRef$getN7;\n        return (_this3$_innerRef$getN7 = _this3._innerRef.getNode()).scrollWithoutAnimationTo.apply(_this3$_innerRef$getN7, arguments);\n      });\n      _defineProperty(_assertThisInitialized(_this3), \"flashScrollIndicators\", function () {\n        var _this3$_innerRef$getN8;\n        return (_this3$_innerRef$getN8 = _this3._innerRef.getNode()).flashScrollIndicators.apply(_this3$_innerRef$getN8, arguments);\n      });\n      return _this3;\n    }\n    _createClass(NavigationAwareScrollable, [{\n      key: \"render\",\n      value: function render() {\n        return React.createElement(ComponentWithNavigationScrolling, _extends({}, this.props, {\n          onRef: this._captureRef\n        }));\n      }\n    }]);\n    return NavigationAwareScrollable;\n  }(React.PureComponent);\n  _defineProperty(NavigationAwareScrollable, \"displayName\", \"NavigationAwareScrollable(\".concat(Component.displayName || Component.name, \")\"));\n  return hoistStatics(NavigationAwareScrollable, Component);\n}","map":{"version":3,"sources":["createNavigationAwareScrollable.js"],"names":["React","hoistStatics","withNavigation","createNavigationAwareScrollable","Component","ComponentWithNavigationScrolling","PureComponent","displayName","name","componentDidMount","_subscription","props","navigation","addListener","scrollableNode","getNode","isFocused","scrollToTop","scrollTo","y","scrollResponderScrollTo","componentWillUnmount","remove","_scrollRef","getScrollResponder","render","view","NavigationAwareScrollable","_innerRef","onRef","setNativeProps","getScrollableNode","getInnerViewNode","scrollToEnd","scrollWithoutAnimationTo","flashScrollIndicators","_captureRef"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { withNavigation } from '@react-navigation/core';\n\nexport default function createNavigationAwareScrollable(Component) {\n  const ComponentWithNavigationScrolling = withNavigation(\n    class extends React.PureComponent {\n      static displayName = `withNavigationScrolling(${\n        Component.displayName || Component.name\n      })`;\n\n      componentDidMount() {\n        this._subscription = this.props.navigation.addListener(\n          'refocus',\n          () => {\n            const scrollableNode = this.getNode();\n            if (this.props.navigation.isFocused() && scrollableNode !== null) {\n              if (scrollableNode.scrollToTop != null) {\n                scrollableNode.scrollToTop();\n              } else if (scrollableNode.scrollTo != null) {\n                scrollableNode.scrollTo({ y: 0 });\n              } else if (scrollableNode.scrollResponderScrollTo != null) {\n                scrollableNode.scrollResponderScrollTo({ y: 0 });\n              }\n            }\n          }\n        );\n      }\n\n      componentWillUnmount() {\n        if (this._subscription != null) {\n          this._subscription.remove();\n        }\n      }\n\n      getNode() {\n        if (this._scrollRef === null) {\n          return null;\n        }\n\n        if (this._scrollRef.getScrollResponder) {\n          return this._scrollRef.getScrollResponder();\n        } else if (this._scrollRef.getNode) {\n          return this._scrollRef.getNode();\n        } else {\n          return this._scrollRef;\n        }\n      }\n\n      render() {\n        return (\n          <Component\n            ref={(view) => {\n              this._scrollRef = view;\n            }}\n            {...this.props}\n          />\n        );\n      }\n    }\n  );\n\n  class NavigationAwareScrollable extends React.PureComponent {\n    static displayName = `NavigationAwareScrollable(${\n      Component.displayName || Component.name\n    })`;\n\n    _captureRef = (view) => {\n      this._innerRef = view;\n      this.props.onRef && this.props.onRef(view);\n    };\n\n    setNativeProps = (...args) => {\n      return this._innerRef.getNode().setNativeProps(...args);\n    };\n\n    getScrollResponder = (...args) => {\n      return this._innerRef.getNode().getScrollResponder(...args);\n    };\n\n    getScrollableNode = (...args) => {\n      return this._innerRef.getNode().getScrollableNode(...args);\n    };\n\n    getInnerViewNode = (...args) => {\n      return this._innerRef.getNode().getInnerViewNode(...args);\n    };\n\n    scrollTo = (...args) => {\n      return this._innerRef.getNode().scrollTo(...args);\n    };\n\n    scrollToEnd = (...args) => {\n      return this._innerRef.getNode().scrollToEnd(...args);\n    };\n\n    scrollWithoutAnimationTo = (...args) => {\n      return this._innerRef.getNode().scrollWithoutAnimationTo(...args);\n    };\n\n    flashScrollIndicators = (...args) => {\n      return this._innerRef.getNode().flashScrollIndicators(...args);\n    };\n\n    render() {\n      return (\n        <ComponentWithNavigationScrolling\n          {...this.props}\n          onRef={this._captureRef}\n        />\n      );\n    }\n  }\n\n  return hoistStatics(NavigationAwareScrollable, Component);\n}\n"]},"metadata":{},"sourceType":"module"}